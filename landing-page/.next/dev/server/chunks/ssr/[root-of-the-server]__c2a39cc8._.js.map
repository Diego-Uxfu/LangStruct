{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/petethambundit/projectnlp/LangStruct/landing-page/app/lesson/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function SentenceBuilderPage() {\r\n  const [words, setWords] = useState<string[]>([]);\r\n  const [result, setResult] = useState<any>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\r\n\r\n  // --- 1. Fetch & Scramble New Sentence ---\r\n  const loadNewGame = async () => {\r\n    setLoading(true);\r\n    setResult(null);\r\n    try {\r\n      // Fetch from the generator endpoint\r\n      const res = await fetch(\"http://127.0.0.1:5000/generate\");\r\n      const data = await res.json();\r\n      \r\n      // The backend might return a string \"sentence\" or a list \"words\"\r\n      let rawWords: string[] = [];\r\n      if (data.words) {\r\n        rawWords = data.words;\r\n      } else if (data.sentence) {\r\n        // Strip the period for the game tiles\r\n        rawWords = data.sentence.replace('.', '').split(' '); \r\n      } else {\r\n        // Fallback if backend isn't connected yet\r\n        rawWords = [\"The\", \"cat\", \"sleeps\", \"quickly\"]; \r\n      }\r\n\r\n      // Scramble the words randomly\r\n      const scrambled = [...rawWords].sort(() => Math.random() - 0.5);\r\n      setWords(scrambled);\r\n\r\n    } catch (error) {\r\n      console.error(\"Error fetching sentence:\", error);\r\n      // Fallback UI to prevent blank screen\r\n      setWords([\"Error:\", \"Backend\", \"Not\", \"Connected\"]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load a new game immediately when the page opens\r\n  useEffect(() => {\r\n    loadNewGame();\r\n  }, []);\r\n\r\n  // --- 2. Drag & Drop Logic ---\r\n  const handleDragStart = (index: number) => {\r\n    setDraggedIndex(index);\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault(); // Necessary to allow dropping\r\n  };\r\n\r\n  const handleDrop = (dropIndex: number) => {\r\n    if (draggedIndex === null || draggedIndex === dropIndex) return;\r\n\r\n    const newWords = [...words];\r\n    // Remove the dragged word from its old position\r\n    const [draggedWord] = newWords.splice(draggedIndex, 1);\r\n    // Insert it at the new position\r\n    newWords.splice(dropIndex, 0, draggedWord);\r\n\r\n    setWords(newWords);\r\n    setDraggedIndex(null);\r\n  };\r\n\r\n  // --- 3. Check Sentence Validity ---\r\n  const handleCheck = async () => {\r\n    setLoading(true);\r\n    // Reconstruct the sentence string and add a period for validity checking\r\n    const sentence = words.join(\" \") + \".\"; \r\n\r\n    try {\r\n      const res = await fetch(\"http://127.0.0.1:5000/analyze\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ text: sentence }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      setResult(data);\r\n    } catch (error) {\r\n      console.error(\"Error checking sentence:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-zinc-50 dark:bg-black px-6 font-sans\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"max-w-3xl w-full text-center mb-10\">\r\n        <h1 className=\"text-4xl font-bold mb-4 text-black dark:text-white\">\r\n          Sentence Scramble\r\n        </h1>\r\n        <p className=\"text-zinc-600 dark:text-zinc-400\">\r\n          Drag the words to fix the sentence structure.\r\n        </p>\r\n      </div>\r\n\r\n      {/* --- Game Board --- */}\r\n      <div className=\"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 \r\n                      rounded-2xl shadow-xl p-8 w-full max-w-4xl min-h-[400px] flex flex-col items-center\">\r\n        \r\n        {/* Draggable Words Container */}\r\n        <div className=\"flex flex-wrap justify-center gap-3 mb-10 p-6 bg-zinc-100 dark:bg-zinc-950 \r\n                        rounded-xl w-full border-2 border-dashed border-zinc-300 dark:border-zinc-700 min-h-[120px] items-center\">\r\n          {words.map((word, index) => (\r\n            <div\r\n              key={index}\r\n              draggable\r\n              onDragStart={() => handleDragStart(index)}\r\n              onDragOver={handleDragOver}\r\n              onDrop={() => handleDrop(index)}\r\n              className={`\r\n                px-6 py-3 bg-white dark:bg-zinc-800 text-lg font-bold rounded-lg shadow-sm\r\n                cursor-grab active:cursor-grabbing border border-zinc-300 dark:border-zinc-600\r\n                transition-all hover:scale-105 select-none\r\n                ${draggedIndex === index ? \"opacity-50 scale-95 border-blue-500\" : \"opacity-100\"}\r\n              `}\r\n            >\r\n              {word}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Buttons */}\r\n        <div className=\"flex gap-4\">\r\n          <button\r\n            onClick={loadNewGame}\r\n            className=\"px-6 py-2 rounded-lg text-zinc-600 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 transition-colors\"\r\n          >\r\n            New Sentence\r\n          </button>\r\n          \r\n          <button\r\n            onClick={handleCheck}\r\n            disabled={loading}\r\n            className=\"px-8 py-2 rounded-lg bg-blue-600 text-white font-semibold \r\n                       hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-all active:scale-95 disabled:bg-gray-400\"\r\n          >\r\n            {loading ? \"Checking...\" : \"Check Syntax\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* --- Results Section --- */}\r\n        {result && (\r\n          <div className=\"mt-10 w-full animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n            \r\n            {/* Success/Fail Banner */}\r\n            <div className={`p-4 rounded-xl border text-center mb-6 \r\n              ${result.isValid \r\n                ? \"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-300\" \r\n                : \"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300\"\r\n              }`}>\r\n              <h3 className=\"text-xl font-bold\">\r\n                {result.isValid ? \"üéâ Correct Structure!\" : \"‚ùå Invalid Structure\"}\r\n              </h3>\r\n            </div>\r\n\r\n            {/* POS Tag Breakdown */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n              {result.tags?.map(([word, tag]: [string, string], i: number) => (\r\n                <div key={i} className=\"flex flex-col items-center bg-zinc-50 dark:bg-zinc-800 p-3 rounded border border-zinc-200 dark:border-zinc-700\">\r\n                  <span className=\"font-medium text-black dark:text-white\">{word}</span>\r\n                  <span className={`text-xs font-mono font-bold mt-1 px-2 py-0.5 rounded\r\n                      ${tag.startsWith('V') ? 'bg-green-100 text-green-700' : \r\n                        tag.startsWith('N') ? 'bg-blue-100 text-blue-700' :\r\n                        tag === 'DET' || tag === 'DT' ? 'bg-purple-100 text-purple-700' :\r\n                        'bg-gray-200 text-gray-500'\r\n                      }`}>\r\n                      {tag}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/petethambundit/projectnlp/LangStruct/landing-page/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///Users/petethambundit/projectnlp/LangStruct/landing-page/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+JACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///Users/petethambundit/projectnlp/LangStruct/landing-page/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+JACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}